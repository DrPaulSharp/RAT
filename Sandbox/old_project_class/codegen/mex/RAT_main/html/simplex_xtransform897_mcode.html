<pre class="code">
<span class="srcline"><span class="lineno"><a href="140,1" id="srcline1"> 1</a></span><span class="line"><span class="keyword">function</span> <span class="var type1" id="S2T2U3">xtrans</span> = simplex_xtransform(<span class="var type1" id="S3T2U6">x</span>,<span class="var type1" id="S4T301U7">params</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="140,2" id="srcline2"> 2</a></span><span class="line"><span class="comment">% converts unconstrained variables into their original domains</span></span></span>
<span class="srcline"><span class="lineno"><a href="140,3" id="srcline3"> 3</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="140,4" id="srcline4"> 4</a></span><span class="line"><span class="mxinfo " id="T2:U4"><span class="var type1" id="S2T2U10">xtrans</span> = <span class="var type1" id="S3T2U11">x</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="140,5" id="srcline5"> 5</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S5T4U14">i</span> = <span class="mxinfo " id="T2:U8"><span class="mxinfo " id="T4:U9">1</span>:<span class="mxinfo " id="T4:U10">length(<span class="var type1" id="S3T2U19">x</span>)</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="140,6" id="srcline6"> 6</a></span><span class="line">  <span class="mxinfo " id="T62:U12"><span class="keyword">switch</span> <span class="mxinfo " id="T4:U13"><span class="mxinfo " id="T2:U14"><span class="var type1" id="S4T301U23">params</span>.BoundClass</span>(<span class="var type1" id="S5T4U25">i</span>)</span></span></span>
<span class="srcline"><span class="lineno"><a href="140,7" id="srcline7"> 7</a></span><span class="line">    <span class="keyword">case</span> <span class="mxinfo " id="T4:U17">1</span></span></span>
<span class="srcline"><span class="lineno"><a href="140,8" id="srcline8"> 8</a></span><span class="line">      <span class="comment">% lower bound only</span></span></span>
<span class="srcline"><span class="lineno"><a href="140,9" id="srcline9"> 9</a></span><span class="line">      <span class="mxinfo " id="T4:U18"><span class="mxinfo " id="T4:U19"><span class="var type1" id="S2T2U31">xtrans</span>(<span class="var type1" id="S5T4U32">i</span>)</span> = <span class="mxinfo " id="T4:U22"><span class="mxinfo " id="T4:U23"><span class="mxinfo " id="T2:U24"><span class="var type1" id="S4T301U36">params</span>.LB</span>(<span class="var type1" id="S5T4U38">i</span>)</span> + <span class="mxinfo " id="T4:U27"><span class="mxinfo " id="T4:U28"><span class="var type1" id="S3T2U41">x</span>(<span class="var type1" id="S5T4U42">i</span>)</span>.^2</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="140,10" id="srcline10">10</a></span><span class="line">    <span class="keyword">case</span> <span class="mxinfo " id="T4:U31">2</span></span></span>
<span class="srcline"><span class="lineno"><a href="140,11" id="srcline11">11</a></span><span class="line">      <span class="comment">% upper bound only</span></span></span>
<span class="srcline"><span class="lineno"><a href="140,12" id="srcline12">12</a></span><span class="line">      <span class="mxinfo " id="T4:U32"><span class="mxinfo " id="T4:U33"><span class="var type1" id="S2T2U49">xtrans</span>(<span class="var type1" id="S5T4U50">i</span>)</span> = <span class="mxinfo " id="T4:U36"><span class="mxinfo " id="T4:U37"><span class="mxinfo " id="T2:U38"><span class="var type1" id="S4T301U54">params</span>.UB</span>(<span class="var type1" id="S5T4U56">i</span>)</span> - <span class="mxinfo " id="T4:U41"><span class="mxinfo " id="T4:U42"><span class="var type1" id="S3T2U59">x</span>(<span class="var type1" id="S5T4U60">i</span>)</span>.^2</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="140,13" id="srcline13">13</a></span><span class="line">    <span class="keyword">case</span> <span class="mxinfo " id="T4:U45">3</span></span></span>
<span class="srcline"><span class="lineno"><a href="140,14" id="srcline14">14</a></span><span class="line">      <span class="comment">% lower and upper bounds</span></span></span>
<span class="srcline"><span class="lineno"><a href="140,15" id="srcline15">15</a></span><span class="line">      <span class="mxinfo " id="T4:U46"><span class="mxinfo " id="T4:U47"><span class="var type1" id="S2T2U67">xtrans</span>(<span class="var type1" id="S5T4U68">i</span>)</span> = <span class="mxinfo " id="T4:U50">(<span class="mxinfo " id="T4:U51"><span class="mxinfo " id="T4:U52">sin(<span class="mxinfo " id="T4:U53"><span class="var type1" id="S3T2U75">x</span>(<span class="var type1" id="S5T4U76">i</span>)</span>)</span>+<span class="mxinfo " id="T4:U56">1</span></span>)/<span class="mxinfo " id="T4:U57">2</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="140,16" id="srcline16">16</a></span><span class="line">      <span class="mxinfo " id="T4:U58"><span class="mxinfo " id="T4:U59"><span class="var type1" id="S2T2U82">xtrans</span>(<span class="var type1" id="S5T4U83">i</span>)</span> = <span class="mxinfo " id="T4:U62"><span class="mxinfo " id="T4:U63"><span class="mxinfo " id="T4:U64"><span class="var type1" id="S2T2U87">xtrans</span>(<span class="var type1" id="S5T4U88">i</span>)</span>*(<span class="mxinfo " id="T4:U67"><span class="mxinfo " id="T4:U68"><span class="mxinfo " id="T2:U69"><span class="var type1" id="S4T301U93">params</span>.UB</span>(<span class="var type1" id="S5T4U95">i</span>)</span> - <span class="mxinfo " id="T4:U72"><span class="mxinfo " id="T2:U73"><span class="var type1" id="S4T301U98">params</span>.LB</span>(<span class="var type1" id="S5T4U100">i</span>)</span></span>)</span> + <span class="mxinfo " id="T4:U76"><span class="mxinfo " id="T2:U77"><span class="var type1" id="S4T301U103">params</span>.LB</span>(<span class="var type1" id="S5T4U105">i</span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="140,17" id="srcline17">17</a></span><span class="line">    <span class="keyword">case</span> <span class="mxinfo " id="T4:U80">0</span></span></span>
<span class="srcline"><span class="lineno"><a href="140,18" id="srcline18">18</a></span><span class="line">      <span class="comment">% unconstrained variable. xtrans(i) is set.</span></span></span>
<span class="srcline"><span class="lineno"><a href="140,19" id="srcline19">19</a></span><span class="line">  <span class="keyword">end</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="140,20" id="srcline20">20</a></span><span class="line"><span class="keyword"><span class="keyword">end</span></span></span></span>
</pre>
