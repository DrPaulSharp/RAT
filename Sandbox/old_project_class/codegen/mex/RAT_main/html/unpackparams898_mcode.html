<pre class="code">
<span class="srcline"><span class="lineno"><a href="141,1" id="srcline1">  1</a></span><span class="line"><span class="keyword">function</span> <span class="var type1" id="S2T15U3">problemDef</span> = unpackparams(<span class="var type1" id="S2T15U6">problemDef</span>,<span class="var type1" id="S3T52U7">controls</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="141,2" id="srcline2">  2</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="141,3" id="srcline3">  3</a></span><span class="line"><span class="comment">%Unpack the params out of the fitparsma and otherparams arrays</span></span></span>
<span class="srcline"><span class="lineno"><a href="141,4" id="srcline4">  4</a></span><span class="line"><span class="comment">%back into problem.params</span></span></span>
<span class="srcline"><span class="lineno"><a href="141,5" id="srcline5">  5</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="141,6" id="srcline6">  6</a></span><span class="line"><span class="comment">%problem = getappdata(0,'problem');</span></span></span>
<span class="srcline"><span class="lineno"><a href="141,7" id="srcline7">  7</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="141,8" id="srcline8">  8</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="141,9" id="srcline9">  9</a></span><span class="line"><span class="mxinfo " id="T4:U4"><span class="var type1" id="S4T4U10">unpacked_counter</span> = <span class="mxinfo " id="T4:U6">1</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,10" id="srcline10"> 10</a></span><span class="line"><span class="mxinfo " id="T4:U7"><span class="var type1" id="S5T4U14">packed_counter</span> = <span class="mxinfo " id="T4:U9">1</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,11" id="srcline11"> 11</a></span><span class="line"><span class="mxinfo " id="T4:U10"><span class="var type1" id="S6T4U18">uppars_counter</span> = <span class="mxinfo " id="T4:U12">1</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,12" id="srcline12"> 12</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="141,13" id="srcline13"> 13</a></span><span class="line"><span class="mxinfo " id="T20:U13"><span class="var type1" id="S7T20U22">uppars</span> = <span class="mxinfo " id="T20:U15">zeros(<span class="mxinfo " id="T4:U16">1</span>,<span class="mxinfo " id="T4:U17">length(<span class="var type1" id="S2T15U29">problemDef</span>.params)</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,14" id="srcline14"> 14</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S10T4U33">i</span> = <span class="mxinfo " id="T58:U20"><span class="mxinfo " id="T4:U21">1</span>:length(<span class="var type1" id="S3T52U40">controls</span>.checks.params_fitYesNo)</span></span></span>
<span class="srcline"><span class="lineno"><a href="141,15" id="srcline15"> 15</a></span><span class="line">    <span class="keyword">if</span> <span class="mxinfo " id="T65:U23"><span class="mxinfo " id="T4:U24"><span class="mxinfo " id="T58:U25"><span class="mxinfo " id="T57:U26"><span class="var type1" id="S3T52U49">controls</span>.checks</span>.params_fitYesNo</span>(<span class="var type1" id="S10T4U52">i</span>)</span> == <span class="mxinfo " id="T4:U29">1</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="141,16" id="srcline16"> 16</a></span><span class="line">        <span class="mxinfo " id="T4:U30"><span class="mxinfo " id="T4:U31"><span class="var type1" id="S7T20U57">uppars</span>(<span class="var type1" id="S6T4U58">uppars_counter</span>)</span> = <span class="mxinfo " id="T4:U34"><span class="mxinfo " id="T2:U35"><span class="var type1" id="S2T15U61">problemDef</span>.fitpars</span>(<span class="var type1" id="S4T4U63">unpacked_counter</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,17" id="srcline17"> 17</a></span><span class="line">        <span class="mxinfo " id="T4:U38"><span class="var type1" id="S4T4U66">unpacked_counter</span> = <span class="mxinfo " id="T4:U40"><span class="var type1" id="S4T4U68">unpacked_counter</span> + <span class="mxinfo " id="T4:U42">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,18" id="srcline18"> 18</a></span><span class="line">        <span class="mxinfo " id="T4:U43"><span class="var type1" id="S6T4U72">uppars_counter</span> = <span class="mxinfo " id="T4:U45"><span class="var type1" id="S6T4U74">uppars_counter</span> + <span class="mxinfo " id="T4:U47">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,19" id="srcline19"> 19</a></span><span class="line">    <span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="141,20" id="srcline20"> 20</a></span><span class="line">        <span class="mxinfo " id="T4:U48"><span class="mxinfo " id="T4:U49"><span class="var type1" id="S7T20U80">uppars</span>(<span class="var type1" id="S6T4U81">uppars_counter</span>)</span> = <span class="mxinfo " id="T4:U52"><span class="mxinfo " id="T2:U53"><span class="var type1" id="S2T15U84">problemDef</span>.otherpars</span>(<span class="var type1" id="S5T4U86">packed_counter</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,21" id="srcline21"> 21</a></span><span class="line">        <span class="mxinfo " id="T4:U56"><span class="var type1" id="S5T4U89">packed_counter</span> = <span class="mxinfo " id="T4:U58"><span class="var type1" id="S5T4U91">packed_counter</span> + <span class="mxinfo " id="T4:U60">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,22" id="srcline22"> 22</a></span><span class="line">        <span class="mxinfo " id="T4:U61"><span class="var type1" id="S6T4U95">uppars_counter</span> = <span class="mxinfo " id="T4:U63"><span class="var type1" id="S6T4U97">uppars_counter</span> + <span class="mxinfo " id="T4:U65">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,23" id="srcline23"> 23</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="141,24" id="srcline24"> 24</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="141,25" id="srcline25"> 25</a></span><span class="line"><span class="mxinfo " id="T20:U66"><span class="mxinfo " id="T20:U67"><span class="var type1" id="S2T15U102">problemDef</span>.params</span> = <span class="var type1" id="S7T20U104">uppars</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,26" id="srcline26"> 26</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="141,27" id="srcline27"> 27</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="141,28" id="srcline28"> 28</a></span><span class="line"><span class="comment">%Also the backgrounds</span></span></span>
<span class="srcline"><span class="lineno"><a href="141,29" id="srcline29"> 29</a></span><span class="line"><span class="mxinfo " id="T19:U70"><span class="var type1" id="S7T19U107">uppars</span> = <span class="mxinfo " id="T19:U72">zeros(<span class="mxinfo " id="T4:U73">1</span>,<span class="mxinfo " id="T4:U74">length(<span class="var type1" id="S2T15U114">problemDef</span>.backs)</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,30" id="srcline30"> 30</a></span><span class="line"><span class="mxinfo " id="T4:U76"><span class="var type1" id="S6T4U118">uppars_counter</span> = <span class="mxinfo " id="T4:U78">1</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,31" id="srcline31"> 31</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S10T4U122">i</span> = <span class="mxinfo " id="T59:U80"><span class="mxinfo " id="T4:U81">1</span>:length(<span class="var type1" id="S3T52U129">controls</span>.checks.backs_fitYesNo)</span></span></span>
<span class="srcline"><span class="lineno"><a href="141,32" id="srcline32"> 32</a></span><span class="line">    <span class="keyword">if</span> <span class="mxinfo " id="T65:U83"><span class="mxinfo " id="T4:U84"><span class="mxinfo " id="T59:U85"><span class="mxinfo " id="T57:U86"><span class="var type1" id="S3T52U138">controls</span>.checks</span>.backs_fitYesNo</span>(<span class="var type1" id="S10T4U141">i</span>)</span> == <span class="mxinfo " id="T4:U89">1</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="141,33" id="srcline33"> 33</a></span><span class="line">        <span class="mxinfo " id="T4:U90"><span class="mxinfo " id="T4:U91"><span class="var type1" id="S7T19U146">uppars</span>(<span class="var type1" id="S6T4U147">uppars_counter</span>)</span> = <span class="mxinfo " id="T4:U94"><span class="mxinfo " id="T2:U95"><span class="var type1" id="S2T15U150">problemDef</span>.fitpars</span>(<span class="var type1" id="S4T4U152">unpacked_counter</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,34" id="srcline34"> 34</a></span><span class="line">        <span class="mxinfo " id="T4:U98"><span class="var type1" id="S4T4U155">unpacked_counter</span> = <span class="mxinfo " id="T4:U100"><span class="var type1" id="S4T4U157">unpacked_counter</span> + <span class="mxinfo " id="T4:U102">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,35" id="srcline35"> 35</a></span><span class="line">        <span class="mxinfo " id="T4:U103"><span class="var type1" id="S6T4U161">uppars_counter</span> = <span class="mxinfo " id="T4:U105"><span class="var type1" id="S6T4U163">uppars_counter</span> + <span class="mxinfo " id="T4:U107">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,36" id="srcline36"> 36</a></span><span class="line">    <span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="141,37" id="srcline37"> 37</a></span><span class="line">        <span class="mxinfo " id="T4:U108"><span class="mxinfo " id="T4:U109"><span class="var type1" id="S7T19U169">uppars</span>(<span class="var type1" id="S6T4U170">uppars_counter</span>)</span> = <span class="mxinfo " id="T4:U112"><span class="mxinfo " id="T2:U113"><span class="var type1" id="S2T15U173">problemDef</span>.otherpars</span>(<span class="var type1" id="S5T4U175">packed_counter</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,38" id="srcline38"> 38</a></span><span class="line">        <span class="mxinfo " id="T4:U116"><span class="var type1" id="S5T4U178">packed_counter</span> = <span class="mxinfo " id="T4:U118"><span class="var type1" id="S5T4U180">packed_counter</span> + <span class="mxinfo " id="T4:U120">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,39" id="srcline39"> 39</a></span><span class="line">        <span class="mxinfo " id="T4:U121"><span class="var type1" id="S6T4U184">uppars_counter</span> = <span class="mxinfo " id="T4:U123"><span class="var type1" id="S6T4U186">uppars_counter</span> + <span class="mxinfo " id="T4:U125">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,40" id="srcline40"> 40</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="141,41" id="srcline41"> 41</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="141,42" id="srcline42"> 42</a></span><span class="line"><span class="mxinfo " id="T19:U126"><span class="mxinfo " id="T19:U127"><span class="var type1" id="S2T15U191">problemDef</span>.backs</span> = <span class="var type1" id="S7T19U193">uppars</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,43" id="srcline43"> 43</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="141,44" id="srcline44"> 44</a></span><span class="line"><span class="comment">%Scalefactors</span></span></span>
<span class="srcline"><span class="lineno"><a href="141,45" id="srcline45"> 45</a></span><span class="line"><span class="mxinfo " id="T4:U130"><span class="var type1" id="S7T4U196">uppars</span> = <span class="mxinfo " id="T4:U132">zeros(1,length(<span class="var type1" id="S2T15U203">problemDef</span>.sf))</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,46" id="srcline46"> 46</a></span><span class="line"><span class="mxinfo " id="T4:U134"><span class="var type1" id="S6T4U207">uppars_counter</span> = <span class="mxinfo " id="T4:U136">1</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,47" id="srcline47"> 47</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S10T4U211">i</span> = <span class="mxinfo " id="T4:U138">1:length(<span class="var type1" id="S3T52U218">controls</span>.checks.scales_fitYesNo)</span></span></span>
<span class="srcline"><span class="lineno"><a href="141,48" id="srcline48"> 48</a></span><span class="line">    <span class="keyword">if</span> <span class="mxinfo " id="T65:U140"><span class="mxinfo " id="T4:U141"><span class="mxinfo " id="T57:U142"><span class="var type1" id="S3T52U227">controls</span>.checks</span>.scales_fitYesNo</span>(<span class="var type1" id="S10T4U230">i</span>) == <span class="mxinfo " id="T4:U145">1</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="141,49" id="srcline49"> 49</a></span><span class="line">        <span class="mxinfo " id="T4:U146"><span class="var type1" id="S7T4U235">uppars</span>(<span class="var type1" id="S6T4U236">uppars_counter</span>) = <span class="mxinfo " id="T4:U149"><span class="mxinfo " id="T2:U150"><span class="var type1" id="S2T15U239">problemDef</span>.fitpars</span>(<span class="var type1" id="S4T4U241">unpacked_counter</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,50" id="srcline50"> 50</a></span><span class="line">        <span class="mxinfo " id="T4:U153"><span class="var type1" id="S4T4U244">unpacked_counter</span> = <span class="mxinfo " id="T4:U155"><span class="var type1" id="S4T4U246">unpacked_counter</span> + <span class="mxinfo " id="T4:U157">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,51" id="srcline51"> 51</a></span><span class="line">        <span class="mxinfo " id="T4:U158"><span class="var type1" id="S6T4U250">uppars_counter</span> = <span class="mxinfo " id="T4:U160"><span class="var type1" id="S6T4U252">uppars_counter</span> + <span class="mxinfo " id="T4:U162">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,52" id="srcline52"> 52</a></span><span class="line">    <span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="141,53" id="srcline53"> 53</a></span><span class="line">        <span class="mxinfo " id="T4:U163"><span class="var type1" id="S7T4U258">uppars</span>(<span class="var type1" id="S6T4U259">uppars_counter</span>) = <span class="mxinfo " id="T4:U166"><span class="mxinfo " id="T2:U167"><span class="var type1" id="S2T15U262">problemDef</span>.otherpars</span>(<span class="var type1" id="S5T4U264">packed_counter</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,54" id="srcline54"> 54</a></span><span class="line">        <span class="mxinfo " id="T4:U170"><span class="var type1" id="S5T4U267">packed_counter</span> = <span class="mxinfo " id="T4:U172"><span class="var type1" id="S5T4U269">packed_counter</span> + <span class="mxinfo " id="T4:U174">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,55" id="srcline55"> 55</a></span><span class="line">        <span class="mxinfo " id="T4:U175"><span class="var type1" id="S6T4U273">uppars_counter</span> = <span class="mxinfo " id="T4:U177"><span class="var type1" id="S6T4U275">uppars_counter</span> + <span class="mxinfo " id="T4:U179">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,56" id="srcline56"> 56</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="141,57" id="srcline57"> 57</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="141,58" id="srcline58"> 58</a></span><span class="line"><span class="mxinfo " id="T4:U180"><span class="mxinfo " id="T4:U181"><span class="var type1" id="S2T15U280">problemDef</span>.sf</span> = <span class="var type1" id="S7T4U282">uppars</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,59" id="srcline59"> 59</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="141,60" id="srcline60"> 60</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="141,61" id="srcline61"> 61</a></span><span class="line"><span class="comment">%qshifts</span></span></span>
<span class="srcline"><span class="lineno"><a href="141,62" id="srcline62"> 62</a></span><span class="line"><span class="mxinfo " id="T4:U184"><span class="var type1" id="S7T4U285">uppars</span> = <span class="mxinfo " id="T4:U186">zeros(1,length(<span class="var type1" id="S2T15U292">problemDef</span>.shifts))</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,63" id="srcline63"> 63</a></span><span class="line"><span class="mxinfo " id="T4:U188"><span class="var type1" id="S6T4U296">uppars_counter</span> = <span class="mxinfo " id="T4:U190">1</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,64" id="srcline64"> 64</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S10T4U300">i</span> = <span class="mxinfo " id="T4:U192">1:length(<span class="var type1" id="S3T52U307">controls</span>.checks.shifts_fitYesNo)</span></span></span>
<span class="srcline"><span class="lineno"><a href="141,65" id="srcline65"> 65</a></span><span class="line">    <span class="keyword">if</span> <span class="mxinfo " id="T65:U194"><span class="mxinfo " id="T4:U195"><span class="mxinfo " id="T57:U196"><span class="var type1" id="S3T52U316">controls</span>.checks</span>.shifts_fitYesNo</span>(<span class="var type1" id="S10T4U319">i</span>) == <span class="mxinfo " id="T4:U199">1</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="141,66" id="srcline66"> 66</a></span><span class="line">        <span class="mxinfo " id="T4:U200"><span class="var type1" id="S7T4U324">uppars</span>(<span class="var type1" id="S6T4U325">uppars_counter</span>) = <span class="mxinfo " id="T4:U203"><span class="mxinfo " id="T2:U204"><span class="var type1" id="S2T15U328">problemDef</span>.fitpars</span>(<span class="var type1" id="S4T4U330">unpacked_counter</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,67" id="srcline67"> 67</a></span><span class="line">        <span class="mxinfo " id="T4:U207"><span class="var type1" id="S4T4U333">unpacked_counter</span> = <span class="mxinfo " id="T4:U209"><span class="var type1" id="S4T4U335">unpacked_counter</span> + <span class="mxinfo " id="T4:U211">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,68" id="srcline68"> 68</a></span><span class="line">        <span class="mxinfo " id="T4:U212"><span class="var type1" id="S6T4U339">uppars_counter</span> = <span class="mxinfo " id="T4:U214"><span class="var type1" id="S6T4U341">uppars_counter</span> + <span class="mxinfo " id="T4:U216">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,69" id="srcline69"> 69</a></span><span class="line">    <span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="141,70" id="srcline70"> 70</a></span><span class="line">        <span class="mxinfo " id="T4:U217"><span class="var type1" id="S7T4U347">uppars</span>(<span class="var type1" id="S6T4U348">uppars_counter</span>) = <span class="mxinfo " id="T4:U220"><span class="mxinfo " id="T2:U221"><span class="var type1" id="S2T15U351">problemDef</span>.otherpars</span>(<span class="var type1" id="S5T4U353">packed_counter</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,71" id="srcline71"> 71</a></span><span class="line">        <span class="mxinfo " id="T4:U224"><span class="var type1" id="S5T4U356">packed_counter</span> = <span class="mxinfo " id="T4:U226"><span class="var type1" id="S5T4U358">packed_counter</span> + <span class="mxinfo " id="T4:U228">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,72" id="srcline72"> 72</a></span><span class="line">        <span class="mxinfo " id="T4:U229"><span class="var type1" id="S6T4U362">uppars_counter</span> = <span class="mxinfo " id="T4:U231"><span class="var type1" id="S6T4U364">uppars_counter</span> + <span class="mxinfo " id="T4:U233">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,73" id="srcline73"> 73</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="141,74" id="srcline74"> 74</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="141,75" id="srcline75"> 75</a></span><span class="line"><span class="mxinfo " id="T4:U234"><span class="mxinfo " id="T4:U235"><span class="var type1" id="S2T15U369">problemDef</span>.shifts</span> = <span class="var type1" id="S7T4U371">uppars</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,76" id="srcline76"> 76</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="141,77" id="srcline77"> 77</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="141,78" id="srcline78"> 78</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="141,79" id="srcline79"> 79</a></span><span class="line"><span class="comment">%Nbairs</span></span></span>
<span class="srcline"><span class="lineno"><a href="141,80" id="srcline80"> 80</a></span><span class="line"><span class="mxinfo " id="T4:U238"><span class="var type1" id="S7T4U374">uppars</span> = <span class="mxinfo " id="T4:U240">zeros(1,length(<span class="var type1" id="S2T15U381">problemDef</span>.nba))</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,81" id="srcline81"> 81</a></span><span class="line"><span class="mxinfo " id="T4:U242"><span class="var type1" id="S6T4U385">uppars_counter</span> = <span class="mxinfo " id="T4:U244">1</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,82" id="srcline82"> 82</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S10T4U389">i</span> = <span class="mxinfo " id="T4:U246">1:length(<span class="var type1" id="S3T52U396">controls</span>.checks.nbairs_fitYesNo)</span></span></span>
<span class="srcline"><span class="lineno"><a href="141,83" id="srcline83"> 83</a></span><span class="line">    <span class="keyword">if</span> <span class="mxinfo " id="T65:U248"><span class="mxinfo " id="T4:U249"><span class="mxinfo " id="T57:U250"><span class="var type1" id="S3T52U405">controls</span>.checks</span>.nbairs_fitYesNo</span>(<span class="var type1" id="S10T4U408">i</span>) == <span class="mxinfo " id="T4:U253">1</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="141,84" id="srcline84"> 84</a></span><span class="line">        <span class="mxinfo " id="T4:U254"><span class="var type1" id="S7T4U413">uppars</span>(<span class="var type1" id="S6T4U414">uppars_counter</span>) = <span class="mxinfo " id="T4:U257"><span class="mxinfo " id="T2:U258"><span class="var type1" id="S2T15U417">problemDef</span>.fitpars</span>(<span class="var type1" id="S4T4U419">unpacked_counter</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,85" id="srcline85"> 85</a></span><span class="line">        <span class="mxinfo " id="T4:U261"><span class="var type1" id="S4T4U422">unpacked_counter</span> = <span class="mxinfo " id="T4:U263"><span class="var type1" id="S4T4U424">unpacked_counter</span> + <span class="mxinfo " id="T4:U265">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,86" id="srcline86"> 86</a></span><span class="line">        <span class="mxinfo " id="T4:U266"><span class="var type1" id="S6T4U428">uppars_counter</span> = <span class="mxinfo " id="T4:U268"><span class="var type1" id="S6T4U430">uppars_counter</span> + <span class="mxinfo " id="T4:U270">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,87" id="srcline87"> 87</a></span><span class="line">    <span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="141,88" id="srcline88"> 88</a></span><span class="line">        <span class="mxinfo " id="T4:U271"><span class="var type1" id="S7T4U436">uppars</span>(<span class="var type1" id="S6T4U437">uppars_counter</span>) = <span class="mxinfo " id="T4:U274"><span class="mxinfo " id="T2:U275"><span class="var type1" id="S2T15U440">problemDef</span>.otherpars</span>(<span class="var type1" id="S5T4U442">packed_counter</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,89" id="srcline89"> 89</a></span><span class="line">        <span class="mxinfo " id="T4:U278"><span class="var type1" id="S5T4U445">packed_counter</span> = <span class="mxinfo " id="T4:U280"><span class="var type1" id="S5T4U447">packed_counter</span> + <span class="mxinfo " id="T4:U282">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,90" id="srcline90"> 90</a></span><span class="line">        <span class="mxinfo " id="T4:U283"><span class="var type1" id="S6T4U451">uppars_counter</span> = <span class="mxinfo " id="T4:U285"><span class="var type1" id="S6T4U453">uppars_counter</span> + <span class="mxinfo " id="T4:U287">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,91" id="srcline91"> 91</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="141,92" id="srcline92"> 92</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="141,93" id="srcline93"> 93</a></span><span class="line"><span class="mxinfo " id="T4:U288"><span class="mxinfo " id="T4:U289"><span class="var type1" id="S2T15U458">problemDef</span>.nba</span> = <span class="var type1" id="S7T4U460">uppars</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,94" id="srcline94"> 94</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="141,95" id="srcline95"> 95</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="141,96" id="srcline96"> 96</a></span><span class="line"><span class="comment">%Nbsubs</span></span></span>
<span class="srcline"><span class="lineno"><a href="141,97" id="srcline97"> 97</a></span><span class="line"><span class="mxinfo " id="T19:U292"><span class="var type1" id="S7T19U463">uppars</span> = <span class="mxinfo " id="T19:U294">zeros(<span class="mxinfo " id="T4:U295">1</span>,<span class="mxinfo " id="T4:U296">length(<span class="var type1" id="S2T15U470">problemDef</span>.nbs)</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,98" id="srcline98"> 98</a></span><span class="line"><span class="mxinfo " id="T4:U298"><span class="var type1" id="S6T4U474">uppars_counter</span> = <span class="mxinfo " id="T4:U300">1</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,99" id="srcline99"> 99</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S10T4U478">i</span> = <span class="mxinfo " id="T59:U302"><span class="mxinfo " id="T4:U303">1</span>:length(<span class="var type1" id="S3T52U485">controls</span>.checks.nbsubs_fitYesNo)</span></span></span>
<span class="srcline"><span class="lineno"><a href="141,100" id="srcline100">100</a></span><span class="line">    <span class="keyword">if</span> <span class="mxinfo " id="T65:U305"><span class="mxinfo " id="T4:U306"><span class="mxinfo " id="T59:U307"><span class="mxinfo " id="T57:U308"><span class="var type1" id="S3T52U494">controls</span>.checks</span>.nbsubs_fitYesNo</span>(<span class="var type1" id="S10T4U497">i</span>)</span> == <span class="mxinfo " id="T4:U311">1</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="141,101" id="srcline101">101</a></span><span class="line">        <span class="mxinfo " id="T4:U312"><span class="mxinfo " id="T4:U313"><span class="var type1" id="S7T19U502">uppars</span>(<span class="var type1" id="S6T4U503">uppars_counter</span>)</span> = <span class="mxinfo " id="T4:U316"><span class="mxinfo " id="T2:U317"><span class="var type1" id="S2T15U506">problemDef</span>.fitpars</span>(<span class="var type1" id="S4T4U508">unpacked_counter</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,102" id="srcline102">102</a></span><span class="line">        <span class="mxinfo " id="T4:U320"><span class="var type1" id="S4T4U511">unpacked_counter</span> = <span class="mxinfo " id="T4:U322"><span class="var type1" id="S4T4U513">unpacked_counter</span> + <span class="mxinfo " id="T4:U324">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,103" id="srcline103">103</a></span><span class="line">        <span class="mxinfo " id="T4:U325"><span class="var type1" id="S6T4U517">uppars_counter</span> = <span class="mxinfo " id="T4:U327"><span class="var type1" id="S6T4U519">uppars_counter</span> + <span class="mxinfo " id="T4:U329">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,104" id="srcline104">104</a></span><span class="line">    <span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="141,105" id="srcline105">105</a></span><span class="line">        <span class="mxinfo " id="T4:U330"><span class="mxinfo " id="T4:U331"><span class="var type1" id="S7T19U525">uppars</span>(<span class="var type1" id="S6T4U526">uppars_counter</span>)</span> = <span class="mxinfo " id="T4:U334"><span class="mxinfo " id="T2:U335"><span class="var type1" id="S2T15U529">problemDef</span>.otherpars</span>(<span class="var type1" id="S5T4U531">packed_counter</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,106" id="srcline106">106</a></span><span class="line">        <span class="mxinfo " id="T4:U338"><span class="var type1" id="S5T4U534">packed_counter</span> = <span class="mxinfo " id="T4:U340"><span class="var type1" id="S5T4U536">packed_counter</span> + <span class="mxinfo " id="T4:U342">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,107" id="srcline107">107</a></span><span class="line">        <span class="mxinfo " id="T4:U343"><span class="var type1" id="S6T4U540">uppars_counter</span> = <span class="mxinfo " id="T4:U345"><span class="var type1" id="S6T4U542">uppars_counter</span> + <span class="mxinfo " id="T4:U347">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,108" id="srcline108">108</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="141,109" id="srcline109">109</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="141,110" id="srcline110">110</a></span><span class="line"><span class="mxinfo " id="T19:U348"><span class="mxinfo " id="T19:U349"><span class="var type1" id="S2T15U547">problemDef</span>.nbs</span> = <span class="var type1" id="S7T19U549">uppars</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,111" id="srcline111">111</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="141,112" id="srcline112">112</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="141,113" id="srcline113">113</a></span><span class="line"><span class="comment">%Finally resolutions</span></span></span>
<span class="srcline"><span class="lineno"><a href="141,114" id="srcline114">114</a></span><span class="line"><span class="mxinfo " id="T4:U352"><span class="var type1" id="S7T4U552">uppars</span> = <span class="mxinfo " id="T4:U354">zeros(1,length(<span class="var type1" id="S2T15U559">problemDef</span>.res))</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,115" id="srcline115">115</a></span><span class="line"><span class="mxinfo " id="T4:U356"><span class="var type1" id="S6T4U563">uppars_counter</span> = <span class="mxinfo " id="T4:U358">1</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,116" id="srcline116">116</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S10T4U567">i</span> = <span class="mxinfo " id="T4:U360">1:length(<span class="var type1" id="S3T52U574">controls</span>.checks.resol_fitYesNo)</span></span></span>
<span class="srcline"><span class="lineno"><a href="141,117" id="srcline117">117</a></span><span class="line">    <span class="keyword">if</span> <span class="mxinfo " id="T65:U362"><span class="mxinfo " id="T4:U363"><span class="mxinfo " id="T57:U364"><span class="var type1" id="S3T52U583">controls</span>.checks</span>.resol_fitYesNo</span>(<span class="var type1" id="S10T4U586">i</span>) == <span class="mxinfo " id="T4:U367">1</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="141,118" id="srcline118">118</a></span><span class="line">        <span class="mxinfo " id="T4:U368"><span class="var type1" id="S7T4U591">uppars</span>(<span class="var type1" id="S6T4U592">uppars_counter</span>) = <span class="mxinfo " id="T4:U371"><span class="mxinfo " id="T2:U372"><span class="var type1" id="S2T15U595">problemDef</span>.fitpars</span>(<span class="var type1" id="S4T4U597">unpacked_counter</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,119" id="srcline119">119</a></span><span class="line">        <span class="mxinfo " id="T4:U375"><span class="var type1" id="S4T4U600">unpacked_counter</span> = <span class="mxinfo " id="T4:U377"><span class="var type1" id="S4T4U602">unpacked_counter</span> + <span class="mxinfo " id="T4:U379">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,120" id="srcline120">120</a></span><span class="line">        <span class="mxinfo " id="T4:U380"><span class="var type1" id="S6T4U606">uppars_counter</span> = <span class="mxinfo " id="T4:U382"><span class="var type1" id="S6T4U608">uppars_counter</span> + <span class="mxinfo " id="T4:U384">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,121" id="srcline121">121</a></span><span class="line">    <span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="141,122" id="srcline122">122</a></span><span class="line">        <span class="mxinfo " id="T4:U385"><span class="var type1" id="S7T4U614">uppars</span>(<span class="var type1" id="S6T4U615">uppars_counter</span>) = <span class="mxinfo " id="T4:U388"><span class="mxinfo " id="T2:U389"><span class="var type1" id="S2T15U618">problemDef</span>.otherpars</span>(<span class="var type1" id="S5T4U620">packed_counter</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,123" id="srcline123">123</a></span><span class="line">        <span class="mxinfo " id="T4:U392"><span class="var type1" id="S5T4U623">packed_counter</span> = <span class="mxinfo " id="T4:U394"><span class="var type1" id="S5T4U625">packed_counter</span> + <span class="mxinfo " id="T4:U396">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,124" id="srcline124">124</a></span><span class="line">        <span class="mxinfo " id="T4:U397"><span class="var type1" id="S6T4U629">uppars_counter</span> = <span class="mxinfo " id="T4:U399"><span class="var type1" id="S6T4U631">uppars_counter</span> + <span class="mxinfo " id="T4:U401">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,125" id="srcline125">125</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="141,126" id="srcline126">126</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="141,127" id="srcline127">127</a></span><span class="line"><span class="mxinfo " id="T4:U402"><span class="mxinfo " id="T4:U403"><span class="var type1" id="S2T15U636">problemDef</span>.res</span> = <span class="var type1" id="S7T4U638">uppars</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="141,128" id="srcline128">128</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="141,129" id="srcline129">129</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="141,130" id="srcline130">130</a></span><span class="line"><span class="comment">%setappdata(0,'problem',problem);</span></span></span>
</pre>
