<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of projectClass</title>
  <meta name="keywords" content="projectClass">
  <meta name="description" content="">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../m2html.css">
  <script type="text/javascript">
    if (top.frames.length == 0) { top.location = "../../index.html"; };
  </script>
</head>
<body>
<a name="_top"></a>
<!-- ../menu.html API --><!-- menu.html projectClass -->
<h1>projectClass
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong></strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>This is a script file. </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre class="comment"></pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="backgroundsClass.html" class="code" title="">backgroundsClass</a>	</li><li><a href="contrastsClass.html" class="code" title="">contrastsClass</a>	</li><li><a href="customFileClass.html" class="code" title="">customFileClass</a>	</li><li><a href="dataClass.html" class="code" title="">dataClass</a>	</li><li><a href="layersClass_realSLD.html" class="code" title="">layersClass_realSLD</a>	</li><li><a href="mergeStructs.html" class="code" title="function outStruct = mergeStructs(varargin)">mergeStructs</a>	</li><li><a href="parametersClass.html" class="code" title="">parametersClass</a>	</li><li><a href="projectClass.html" class="code" title="">projectClass</a>	</li><li><a href="resolutionsClass.html" class="code" title="">resolutionsClass</a>	</li></ul>
This function is called by:
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="projectClass.html" class="code" title="">projectClass</a>	</li></ul>
<!-- crossreference -->

<h2><a name="_subfunctions"></a>SUBFUNCTIONS <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="#_sub1" class="code">function obj = projectClass(name)</a></li><li><a href="#_sub2" class="code">function obj = setUsePriors(obj,showFlag)</a></li><li><a href="#_sub3" class="code">function obj = setGeometry(obj,val)</a></li><li><a href="#_sub4" class="code">function obj = setModelType(obj,val)</a></li><li><a href="#_sub5" class="code">function names = getAllAllowedNames(obj)</a></li><li><a href="#_sub6" class="code">function obj = addParamGroup(obj,varargin)</a></li><li><a href="#_sub7" class="code">function obj = addParam(obj,varargin)</a></li><li><a href="#_sub8" class="code">function obj = removeParam(obj,varargin)</a></li><li><a href="#_sub9" class="code">function obj = setParameter(obj,varargin)</a></li><li><a href="#_sub10" class="code">function obj = setParamValue(obj,varargin)</a></li><li><a href="#_sub11" class="code">function obj = setParamConstr(obj,varargin)</a></li><li><a href="#_sub12" class="code">function obj = setParamName(obj,varargin)</a></li><li><a href="#_sub13" class="code">function obj = setParamFit(obj,varargin)</a></li><li><a href="#_sub14" class="code">function obj = setParamPrior(obj,varargin)</a></li><li><a href="#_sub15" class="code">function obj = addLayerGroup(obj,varargin)</a></li><li><a href="#_sub16" class="code">function obj = addLayer(obj,varargin)</a></li><li><a href="#_sub17" class="code">function obj = setLayerValue(obj,varargin)</a></li><li><a href="#_sub18" class="code">function obj = addBacksPar(obj, varargin)</a></li><li><a href="#_sub19" class="code">function obj = removeBacksPar(obj, varargin)</a></li><li><a href="#_sub20" class="code">function obj = setBacksParValue(obj,varargin)</a></li><li><a href="#_sub21" class="code">function obj = setBacksParConstr(obj,varargin)</a></li><li><a href="#_sub22" class="code">function obj = setBacksParName(obj,varargin)</a></li><li><a href="#_sub23" class="code">function obj = addBackground(obj,varargin)</a></li><li><a href="#_sub24" class="code">function obj = removeBackground(obj,varargin)</a></li><li><a href="#_sub25" class="code">function obj = setBackgroundValue(obj,varargin)</a></li><li><a href="#_sub26" class="code">function obj = setBackgroundName(obj,varargin)</a></li><li><a href="#_sub27" class="code">function obj = setBacksPar(obj,varargin);</a></li><li><a href="#_sub28" class="code">function obj = setResolParValue(obj,varargin)</a></li><li><a href="#_sub29" class="code">function obj = setResolPar(obj,varargin)</a></li><li><a href="#_sub30" class="code">function obj = addResolution(obj,varargin)</a></li><li><a href="#_sub31" class="code">function obj = addData(obj, varargin)</a></li><li><a href="#_sub32" class="code">function obj = removeData(obj,varargin)</a></li><li><a href="#_sub33" class="code">function obj = setData(obj, varargin)</a></li><li><a href="#_sub34" class="code">function obj = addBulkOut(obj,varargin)</a></li><li><a href="#_sub35" class="code">function obj = removeBulkOut(obj,varargin)</a></li><li><a href="#_sub36" class="code">function obj = setBulkOut(obj,varargin)</a></li><li><a href="#_sub37" class="code">function obj = addBulkIn(obj,varargin)</a></li><li><a href="#_sub38" class="code">function obj = removeBulkIn(obj,varargin)</a></li><li><a href="#_sub39" class="code">function obj = setBulkIn(obj,varargin)</a></li><li><a href="#_sub40" class="code">function obj = addScalefactor(obj,varargin)</a></li><li><a href="#_sub41" class="code">function obj = removeScalefactor(obj,varargin)</a></li><li><a href="#_sub42" class="code">function obj = setScalefactor(obj,varargin)</a></li><li><a href="#_sub43" class="code">function obj = addQzshift(obj,varargin)</a></li><li><a href="#_sub44" class="code">function obj = addCustomFile(obj, varargin)</a></li><li><a href="#_sub45" class="code">function obj = setCustomFile(obj,varargin)</a></li><li><a href="#_sub46" class="code">function obj = addContrast(obj,varargin)</a></li><li><a href="#_sub47" class="code">function obj = setContrast(obj,varargin)</a></li><li><a href="#_sub48" class="code">function obj = setContrastModel(obj,varargin)</a></li><li><a href="#_sub49" class="code">function outStruct = toStruct(obj)</a></li><li><a href="#_sub50" class="code">function paramNum = findPar(paramName)</a></li><li><a href="#_sub51" class="code">function group = getPropertyGroup1(obj)</a></li><li><a href="#_sub52" class="code">function displayScalarObject(obj)</a></li></ul>

<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre>0001 classdef <a href="projectClass.html" class="code" title="">projectClass</a> &lt; handle &amp; matlab.mixin.CustomDisplay
0002     
0003     <span class="comment">% Class definition for Standard Layers with no absorption.</span>
0004     <span class="comment">% Layers defined in terms of thickness, roughness, real SLD and</span>
0005     <span class="comment">% hydration.</span>
0006     <span class="comment">%</span>
0007     <span class="comment">% Sub objects used are:</span>
0008     <span class="comment">% parametersClass       - parameter definition with priors</span>
0009     <span class="comment">% layersClass_realSLD   - layers defined as (d,rho_real,rough,hydration)</span>
0010     <span class="comment">% backgroundsClass      -</span>
0011     <span class="comment">% resolutionsClass      -</span>
0012     <span class="comment">% dataClass             -</span>
0013     <span class="comment">% contrastsClass        -</span>
0014     <span class="comment">% customFileClass       -</span>
0015     
0016     properties
0017         experimentName
0018         Geometry
0019         parameters          <span class="comment">% parametersClass object</span>
0020         layers              <span class="comment">% layersClass_realSLD object</span>
0021         bulkIn              <span class="comment">% parametersClass object</span>
0022         bulkOut             <span class="comment">% parametersClass object</span>
0023         background          <span class="comment">% backgroundsClass object</span>
0024         scalefactors        <span class="comment">% parametersClass object</span>
0025         qzshifts            <span class="comment">% parametersClass object</span>
0026         resolution          <span class="comment">% resolutionClass object</span>
0027         contrasts           <span class="comment">% contrastsClass object</span>
0028         data                <span class="comment">% dataClass object</span>
0029         customFile          <span class="comment">% Custom file object (TODO)</span>
0030         
0031         UsePriors = false
0032 
0033         ModelType = <span class="string">'Standard Layers'</span>
0034     <span class="keyword">end</span>
0035     
0036     properties (Access = private)
0037         
0038         experimentType = <span class="string">'Non polarised no absorption'</span>;
0039         
0040     <span class="keyword">end</span>
0041     
0042     methods
0043 
0044         <a name="_sub0" href="#_subfunctions" class="code">function obj = projectClass(name)</a>
0045             <span class="comment">% Class constructor</span>
0046             
0047             obj.experimentName = name;
0048             obj.Geometry = <span class="string">'air/substrate'</span>;
0049             
0050             <span class="comment">% Initailise the Parameters Table</span>
0051             obj.parameters = <a href="parametersClass.html" class="code" title="">parametersClass</a>({<span class="string">'Substrate Roughness'</span>,1 3 5,true,<span class="string">'uniform'</span>,0,Inf});
0052             
0053             <span class="comment">% Initialise the layers table</span>
0054             obj.layers = <a href="layersClass_realSLD.html" class="code" title="">layersClass_realSLD</a>();
0055             
0056             <span class="comment">% Initialise bulkIn table</span>
0057             obj.bulkIn = <a href="parametersClass.html" class="code" title="">parametersClass</a>({<span class="string">'SLD Air'</span>,0,0,0,false,<span class="string">'uniform'</span>,0,Inf});
0058             
0059             <span class="comment">% Initialise bulkOut table</span>
0060             obj.bulkOut = <a href="parametersClass.html" class="code" title="">parametersClass</a>({<span class="string">'SLD D2O'</span>,6.2e-6,6.35e-6,6.35e-6,false,<span class="string">'uniform'</span>,0,Inf});
0061             
0062             <span class="comment">% Initialise scalefactors table</span>
0063             obj.scalefactors = <a href="parametersClass.html" class="code" title="">parametersClass</a>({<span class="string">'Scalefactor 1'</span>,0.02,0.23,0.25,false,<span class="string">'uniform'</span>,0,Inf});
0064             
0065             <span class="comment">% Initialise qzshifts table</span>
0066             obj.qzshifts = <a href="parametersClass.html" class="code" title="">parametersClass</a>({<span class="string">'Qz shift 1'</span>,-1e-4,0,1e-4,false,<span class="string">'uniform'</span>,0,Inf});
0067             
0068             <span class="comment">% Initialise backs object</span>
0069             backPars = {<span class="string">'Backs par 1'</span>,1e-7,1e-6,1e-5,false,<span class="string">'uniform'</span>,0,Inf};
0070             backgrounds = {<span class="string">'Background 1'</span>,<span class="string">'constant'</span>,<span class="string">'Backs Par 1'</span>,<span class="string">''</span>,<span class="string">''</span>,<span class="string">''</span>,<span class="string">''</span>};
0071             obj.background = <a href="backgroundsClass.html" class="code" title="">backgroundsClass</a>(backPars,backgrounds);
0072             
0073             <span class="comment">% Initialise resolution object</span>
0074             resolPars = {<span class="string">'Resolution par 1'</span>,0.01,0.03,0.05,false,<span class="string">'uniform'</span>,0,Inf};
0075             resolutions = {<span class="string">'Resolution 1'</span>,<span class="string">'gaussian'</span>,<span class="string">'Resolution par 1'</span>,<span class="string">''</span>,<span class="string">''</span>,<span class="string">''</span>,<span class="string">''</span>};
0076             obj.resolution = <a href="resolutionsClass.html" class="code" title="">resolutionsClass</a>(resolPars,resolutions);
0077             
0078             <span class="comment">% Initialise data object</span>
0079             obj.data = <a href="dataClass.html" class="code" title="">dataClass</a>({<span class="string">'Simulation'</span>,{[]},{[]}, {[]}});
0080             
0081             <span class="comment">% Initialise Contrasts object.</span>
0082             obj.contrasts = <a href="contrastsClass.html" class="code" title="">contrastsClass</a>();
0083             
0084             <span class="comment">% Initialise custom file object</span>
0085             obj.customFile = <a href="customFileClass.html" class="code" title="">customFileClass</a>();
0086             
0087         <span class="keyword">end</span>
0088         
0089         
0090         <a name="_sub1" href="#_subfunctions" class="code">function obj = setUsePriors(obj,showFlag)</a>
0091             <span class="comment">% Sets the priors flag</span>
0092             
0093             <span class="keyword">if</span> ~islogical(showFlag)
0094                 error(<span class="string">'usePriors must be logical ''true'' or ''false'''</span>);
0095             <span class="keyword">end</span>
0096             obj.UsePriors = showFlag;
0097             
0098             <span class="comment">% Also need to set the flag in sub-objects</span>
0099             <span class="comment">% where relevant..</span>
0100             <span class="comment">% (1) Parameters</span>
0101             obj.parameters.showPriors = true;
0102             
0103             <span class="comment">% (2) Bulk In</span>
0104             obj.bulkIn.showPriors = true;
0105             
0106             <span class="comment">% (3) Bulk out</span>
0107             obj.bulkOut.showPriors = true;
0108             
0109             <span class="comment">% (4) Scalefactors</span>
0110             obj.scalefactors.showPriors = true;
0111             
0112             <span class="comment">% (5) Qz shifts</span>
0113             obj.qzshifts.showPriors = true;
0114             
0115             <span class="comment">% (6) Backgrounds (parameters table)</span>
0116             obj.background.backPars.showPriors = true;
0117             
0118             <span class="comment">% (7) Resolutions (parameters table)</span>
0119             obj.resolution.resolPars.showPriors = true;
0120             
0121         <span class="keyword">end</span>
0122         
0123         <a name="_sub2" href="#_subfunctions" class="code">function obj = setGeometry(obj,val)</a>
0124             <span class="comment">% Sets the experiment geometry</span>
0125             
0126             <span class="keyword">if</span> ~ischar(val)
0127                 error(<span class="string">'Expecting char array'</span>)
0128             <span class="keyword">end</span>
0129             
0130             <span class="keyword">if</span> ~any(strcmpi(val,{<span class="string">'Air/substrate'</span>,<span class="string">'Substrate/Liquid'</span>}))
0131                 error(<span class="string">'Expecting Air/Substrate or Substrate/Liquid'</span>)
0132             <span class="keyword">end</span>
0133             
0134             <span class="keyword">if</span> strcmpi(val,<span class="string">'air/substrate'</span>)
0135                 obj.Geometry = <span class="string">'air/substrate'</span>;
0136             <span class="keyword">elseif</span> strcmpi(val,<span class="string">'substrate/liquid'</span>)
0137                 obj.Geometry = <span class="string">'substrate/liquid'</span>;
0138             <span class="keyword">end</span>
0139         <span class="keyword">end</span>
0140         
0141         <a name="_sub3" href="#_subfunctions" class="code">function obj = setModelType(obj,val)</a>
0142             <span class="comment">% Sets the experiment type</span>
0143             
0144             <span class="keyword">if</span> ~ischar(val)
0145                 error(<span class="string">'Expecting a char array'</span>);
0146             <span class="keyword">end</span>
0147             
0148             <span class="keyword">if</span> ~any(strcmpi(val,{<span class="string">'standard layers'</span>,<span class="string">'custom layers'</span>,<span class="string">'custom xy'</span>}))
0149                 error(<span class="string">'experiment type has to be Standard Layers, Custom Layers or Custom XY'</span>);
0150             <span class="keyword">end</span>
0151             
0152             obj.ModelType = val;
0153             
0154         <span class="keyword">end</span>
0155         
0156 
0157         <a name="_sub4" href="#_subfunctions" class="code">function names = getAllAllowedNames(obj)</a>
0158             
0159             <span class="comment">% Returns a cell array of all currently</span>
0160             <span class="comment">% set parameter names for the project.</span>
0161             names.backsNames = obj.background.getBackgroundNames();
0162             names.bulkInNames = obj.bulkIn.getParamNames();
0163             names.bulkOutNames = obj.bulkOut.getParamNames();
0164             names.resolsNames = obj.resolution.getResolNames();
0165             names.layersNames = obj.layers.getLayersNames();
0166             names.dataNames = obj.data.getDataNames();
0167             names.scalefacNames = obj.scalefactors.getParamNames();
0168             names.qzShiftNames = obj.qzshifts.getParamNames();
0169             names.customNames = obj.customFile.getCustomNames();
0170             
0171         <span class="keyword">end</span>
0172         
0173         <span class="comment">% ---------------------------------</span>
0174         
0175         <span class="comment">% Editing Parameters Block</span>
0176         
0177         <a name="_sub5" href="#_subfunctions" class="code">function obj = addParamGroup(obj,varargin)</a>
0178             <span class="comment">% Add a group of parameters to the</span>
0179             <span class="comment">% parameters object. Expects a cell</span>
0180             <span class="comment">% array of parameter cell arrays</span>
0181             
0182             input = varargin{:};
0183             <span class="keyword">if</span> ~iscell(input)
0184                 error(<span class="string">'Expecting a cell array of parameters'</span>);
0185             <span class="keyword">end</span>
0186             
0187             <span class="keyword">for</span> i = 1:length(input)
0188                 obj = <a href="#_sub7" class="code" title="subfunction obj = addParam(obj,varargin)">addParam</a>(obj,input{i});
0189             <span class="keyword">end</span>
0190         <span class="keyword">end</span>
0191         
0192         
0193         <a name="_sub6" href="#_subfunctions" class="code">function obj = addParam(obj,varargin)</a>
0194             <span class="comment">% Adds an individual parameter to</span>
0195             <span class="comment">% the parameters object.</span>
0196             
0197             <span class="comment">% Check how many parameters we are adding</span>
0198             <span class="comment">% and make sure all the inputs are cells</span>
0199             <span class="keyword">if</span> isempty(varargin)
0200                 obj.parameters.addParam();
0201             <span class="keyword">else</span>
0202                 <span class="comment">% If the input is wrapped in a cell (so varargin is a cell of a cell)</span>
0203                 <span class="comment">% need to unwrap one layer of it, otherwise keep varargin as it is</span>
0204                 <span class="keyword">if</span> iscell(varargin{:})
0205                     thisParam = varargin{:};
0206                 <span class="keyword">else</span>
0207                     thisParam = varargin;
0208                 <span class="keyword">end</span>
0209                 obj.parameters.addParam(thisParam);
0210             <span class="keyword">end</span>
0211             
0212         <span class="keyword">end</span>
0213         
0214         
0215         <a name="_sub7" href="#_subfunctions" class="code">function obj = removeParam(obj,varargin)</a>
0216             <span class="comment">% Removes a parameter from the parameters</span>
0217             <span class="comment">% object. The parameter will also be removed</span>
0218             <span class="comment">% from the layers array if it is in use</span>
0219             
0220             removing = varargin;
0221             numberOfParams = length(removing);
0222             
0223             <span class="comment">% Remove the param</span>
0224             <span class="keyword">for</span> i = 1:numberOfParams
0225                 thisParam = varargin;<span class="comment">%{i};</span>
0226                 
0227                 <span class="comment">% Make sure we don't remove substrate roughness</span>
0228                 <span class="keyword">if</span> (isequal(thisParam{1},1)) || (strcmpi(thisParam{1},<span class="string">'Substrate Roughness'</span>))
0229                     error(<span class="string">'Can''t remove protected parameter Substrate Roughness'</span>);
0230                 <span class="keyword">end</span>
0231                 
0232                 <span class="keyword">if</span> iscell(thisParam)
0233                     thisParam = thisParam{:};
0234                 <span class="keyword">end</span>
0235                 
0236                 <span class="comment">% No need to check validity of the parameter</span>
0237                 <span class="comment">% as this is done in the parameters class</span>
0238                 obj.parameters.removeParam(thisParam);
0239                 
0240                 <span class="comment">% Need to chack if it is used in the layers</span>
0241                 <span class="comment">% array and remove it if so. Should be able</span>
0242                 <span class="comment">% to do this with array indexing, but can't quite figure</span>
0243                 <span class="comment">% that out atm, so just use a (dirty) loop over all</span>
0244                 <span class="comment">% the elementsfor now..</span>
0245                 
0246                 findParam = string(thisParam);
0247                 laysTable = obj.layers.layersTable;
0248                 dims = size(laysTable);
0249                 <span class="keyword">for</span> m = 1:dims(1)
0250                     <span class="keyword">for</span> n = 1:dims(2)
0251                         tablePar = laysTable{m,n};   <span class="comment">% Should be a string</span>
0252                         <span class="keyword">if</span> isequal(findParam,tablePar)
0253                             obj.layers.layersTable(m,n) = {&quot;&quot;};
0254                         <span class="keyword">end</span>
0255                     <span class="keyword">end</span>
0256                 <span class="keyword">end</span>
0257             <span class="keyword">end</span>
0258             
0259         <span class="keyword">end</span>
0260         
0261         <a name="_sub8" href="#_subfunctions" class="code">function obj = setParameter(obj,varargin)</a>
0262             <span class="comment">% Gerenal purpose st parameter method</span>
0263             obj.parameters.setParameter(varargin);
0264         <span class="keyword">end</span>
0265         
0266         
0267         <a name="_sub9" href="#_subfunctions" class="code">function obj = setParamValue(obj,varargin)</a>
0268             <span class="comment">% Set the value of a given parameter</span>
0269             obj.parameters.setValue(varargin);
0270         <span class="keyword">end</span>
0271         
0272         <a name="_sub10" href="#_subfunctions" class="code">function obj = setParamConstr(obj,varargin)</a>
0273             <span class="comment">% Set the constraints of an existing parameter</span>
0274             obj.parameters.setConstr(varargin);
0275         <span class="keyword">end</span>
0276         
0277         <a name="_sub11" href="#_subfunctions" class="code">function obj = setParamName(obj,varargin)</a>
0278             <span class="comment">% Set the name of an existing parameter</span>
0279             inputValue = varargin;
0280             <span class="keyword">if</span> (isequal(inputValue{1},1)) || (strcmpi(inputValue{1},<span class="string">'Substrate Roughness'</span>))
0281                 error(<span class="string">'Can''t rename protected parameter Substrate Roughness'</span>);
0282             <span class="keyword">end</span>
0283             obj.parameters.setName(varargin); <span class="comment">%= updatedParams;</span>
0284         <span class="keyword">end</span>
0285         
0286         <a name="_sub12" href="#_subfunctions" class="code">function obj = setParamFit(obj,varargin)</a>
0287             <span class="comment">% Set the 'fit' to off or on for parameter</span>
0288             obj.parameters.setFit(varargin);
0289         <span class="keyword">end</span>
0290         
0291         <a name="_sub13" href="#_subfunctions" class="code">function obj = setParamPrior(obj,varargin)        </a>
0292             obj.parameters.setPrior(varargin);  
0293         <span class="keyword">end</span>
0294         
0295         <span class="comment">% -----------------------------------------------------</span>
0296         
0297         <span class="comment">% Editing of layers block</span>
0298         <a name="_sub14" href="#_subfunctions" class="code">function obj = addLayerGroup(obj,varargin)</a>
0299             <span class="comment">% Add a group of layers to the</span>
0300             <span class="comment">% layers object. Expects a cell</span>
0301             <span class="comment">% array of layer cell arrays</span>
0302             
0303             input = varargin{:};
0304             <span class="keyword">if</span> ~iscell(input)
0305                 error(<span class="string">'Expecting a cell array of layers'</span>);
0306             <span class="keyword">end</span>
0307             
0308             <span class="keyword">for</span> i = 1:length(input)
0309                 obj = <a href="#_sub16" class="code" title="subfunction obj = addLayer(obj,varargin)">addLayer</a>(obj,input{i});
0310             <span class="keyword">end</span>
0311             
0312         <span class="keyword">end</span>
0313         
0314         
0315         <a name="_sub15" href="#_subfunctions" class="code">function obj = addLayer(obj,varargin)</a>
0316             
0317             
0318             <span class="comment">% Decide on what type of set we are</span>
0319             <span class="comment">% doing so we can call the correct</span>
0320             <span class="comment">% add layers method.</span>
0321             
0322             <span class="keyword">if</span> isempty(varargin)
0323                 <span class="comment">% No input, so empty layer</span>
0324                 whatToAdd = {<span class="string">'empty'</span>};
0325                 
0326             <span class="keyword">elseif</span> ischar(varargin{:})
0327                 <span class="comment">% Input is string, so named empty layer</span>
0328                 whatToAdd = {<span class="string">'empty named'</span>, varargin};
0329                 
0330             <span class="keyword">elseif</span> iscell(varargin{:})
0331                 <span class="comment">% Input is cell, so adding layer with parameters</span>
0332                 whatToAdd = {<span class="string">'full layer'</span>, varargin};
0333             <span class="keyword">end</span>
0334             
0335             <span class="comment">% Layers class will also need to know which parameters are</span>
0336             <span class="comment">% currently defined (could also be done here rather than in</span>
0337             <span class="comment">% object)</span>
0338             table = obj.parameters.paramsTable;
0339             paramNames = table(:,1);
0340             
0341             <span class="comment">% Call the addLayers method</span>
0342             obj.layers.addLayer(whatToAdd,paramNames);
0343             
0344         <span class="keyword">end</span>
0345         
0346         <a name="_sub16" href="#_subfunctions" class="code">function obj = setLayerValue(obj,varargin)</a>
0347             
0348             <span class="comment">% Set a value of a given layer</span>
0349             <span class="keyword">if</span> length(varargin) ~= 3
0350                 error(<span class="string">'Three parameters expected into setLayerValue'</span>);
0351             <span class="keyword">end</span>
0352             inputPars = varargin;
0353             
0354             <span class="comment">% Check if set value exists as a parameter</span>
0355             inputVal = inputPars{3};
0356             parNames = obj.parameters.paramsTable{:,1};
0357             
0358             <span class="keyword">if</span> ischar(inputVal)
0359                 <span class="keyword">if</span> ~find(strcmpi(inputVal,parNames))
0360                     error(<span class="string">'Parameter %s not recognised'</span>,inputVal);
0361                 <span class="keyword">end</span>
0362             <span class="keyword">elseif</span> isnumeric(inputVal)
0363                 <span class="keyword">if</span> inputVal &lt; 1 || inputVal &gt; length(parNames)
0364                     error(<span class="string">'Parameter is out of range'</span>)
0365                 <span class="keyword">end</span>
0366                 inputPars{3} = parNames{inputVal};
0367             <span class="keyword">end</span>
0368             
0369             <span class="comment">% call the layers class to set the value</span>
0370             obj.layers.setLayerValue(inputPars);
0371             
0372             
0373             disp(<span class="string">'debug'</span>);
0374             
0375         <span class="keyword">end</span>
0376         
0377         <span class="comment">% ---------------------------------------------------------------</span>
0378         
0379         <span class="comment">% Editing of Backgrounds block</span>
0380         
0381         
0382         <span class="comment">%(1) Backgound Parameters</span>
0383         <a name="_sub17" href="#_subfunctions" class="code">function obj = addBacksPar(obj, varargin)</a>
0384             <span class="comment">% Add a background parameter to the background parameters table</span>
0385             obj.background.addBacksPar(varargin);
0386         <span class="keyword">end</span>
0387         
0388         <a name="_sub18" href="#_subfunctions" class="code">function obj = removeBacksPar(obj, varargin)</a>
0389             <span class="comment">% Remove a background parameter from the backgrounds parameters</span>
0390             <span class="comment">% table</span>
0391             obj.background.removeBacksPar(varargin{:});
0392         <span class="keyword">end</span>
0393         
0394         <a name="_sub19" href="#_subfunctions" class="code">function obj = setBacksParValue(obj,varargin)</a>
0395             <span class="comment">% Set the value of existing backsPar</span>
0396             obj.background.setBacksParValue(varargin);
0397         <span class="keyword">end</span>
0398         
0399         <a name="_sub20" href="#_subfunctions" class="code">function obj = setBacksParConstr(obj,varargin)</a>
0400             <span class="comment">% Set the constraints of existing backsPar</span>
0401             obj.background.setBacksParConstr(varargin);
0402         <span class="keyword">end</span>
0403         
0404         <a name="_sub21" href="#_subfunctions" class="code">function obj = setBacksParName(obj,varargin)</a>
0405             <span class="comment">% Set the name of existing backsPar</span>
0406             obj.background.setBacksParName(varargin);
0407         <span class="keyword">end</span>
0408         
0409         <span class="comment">% (2) Backgrounds</span>
0410         <a name="_sub22" href="#_subfunctions" class="code">function obj = addBackground(obj,varargin)</a>
0411             <span class="comment">% Add a background to the multi-table</span>
0412             obj.background.addBackground(varargin);
0413         <span class="keyword">end</span>
0414         
0415         <a name="_sub23" href="#_subfunctions" class="code">function obj = removeBackground(obj,varargin)</a>
0416             <span class="comment">% Remove background from the multi-table</span>
0417             obj.background.removeBackground(varargin);
0418         <span class="keyword">end</span>
0419         
0420         <a name="_sub24" href="#_subfunctions" class="code">function obj = setBackgroundValue(obj,varargin)</a>
0421             <span class="comment">% Set the value of an existing background parameter</span>
0422             obj.background.setBackgroundValue(varargin);
0423         <span class="keyword">end</span>
0424         
0425         <a name="_sub25" href="#_subfunctions" class="code">function obj = setBackgroundName(obj,varargin)</a>
0426             <span class="comment">% Set the name of an existing Background parameter</span>
0427             obj.background.setBackgroundName(varargin);
0428         <span class="keyword">end</span>
0429         
0430         <a name="_sub26" href="#_subfunctions" class="code">function obj = setBacksPar(obj,varargin);</a>
0431             <span class="comment">% Set back par with name value pairs</span>
0432             obj.background.setBacksPar(varargin);
0433         <span class="keyword">end</span>
0434         
0435         <span class="comment">% -------------------------------------------------------------</span>
0436         <span class="comment">%   Editing of Resolutions block</span>
0437         
0438         <span class="comment">% Resol Pars</span>
0439         <a name="_sub27" href="#_subfunctions" class="code">function obj = setResolParValue(obj,varargin)</a>
0440             <span class="comment">% Set the value of existing backsPar</span>
0441             obj.resolution.setResolParValue(varargin);
0442         <span class="keyword">end</span>
0443         
0444         <a name="_sub28" href="#_subfunctions" class="code">function obj = setResolPar(obj,varargin)</a>
0445             <span class="comment">% Set the value of existing backsPar</span>
0446             obj.resolution.setResolPar(varargin);
0447         <span class="keyword">end</span>
0448         
0449         <span class="comment">% Resolutions</span>
0450         <a name="_sub29" href="#_subfunctions" class="code">function obj = addResolution(obj,varargin)</a>
0451             <span class="comment">% Add a resolution to the multi-table</span>
0452             obj.resolution.addResolution(varargin);
0453         <span class="keyword">end</span>
0454         
0455         <span class="comment">% ------------------------------------------------------------</span>
0456         <span class="comment">%   Editing of Data block</span>
0457         
0458         <a name="_sub30" href="#_subfunctions" class="code">function obj = addData(obj, varargin)</a>
0459             
0460             <span class="comment">% Add a new data parameter</span>
0461             obj.data.addData(varargin);
0462         <span class="keyword">end</span>
0463         
0464         <a name="_sub31" href="#_subfunctions" class="code">function obj = removeData(obj,varargin)</a>
0465             
0466             disp(<span class="string">'Todo'</span>);
0467         <span class="keyword">end</span>
0468         
0469         <a name="_sub32" href="#_subfunctions" class="code">function obj = setData(obj, varargin)</a>
0470             
0471             <span class="comment">% Edit an existing data parameter</span>
0472             nameChanged = obj.data.setData(varargin);
0473             
0474             <span class="keyword">if</span> ~isempty(nameChanged)
0475                 obj.contrasts.updateContrastName(nameChanged);
0476             <span class="keyword">end</span>
0477         <span class="keyword">end</span>
0478         
0479         
0480         <span class="comment">% ---------------------------------------------------------------</span>
0481         <span class="comment">%   Editing of Bulk out block</span>
0482         
0483         <a name="_sub33" href="#_subfunctions" class="code">function obj = addBulkOut(obj,varargin)</a>
0484             obj.bulkOut.addParam(varargin{:});
0485         <span class="keyword">end</span>
0486         
0487         <a name="_sub34" href="#_subfunctions" class="code">function obj = removeBulkOut(obj,varargin)</a>
0488             obj.bulkOut.removeParam(varargin{:});
0489         <span class="keyword">end</span>
0490         
0491         <a name="_sub35" href="#_subfunctions" class="code">function obj = setBulkOut(obj,varargin)</a>
0492             <span class="comment">% Gerenal purpose set bulkOut method</span>
0493             obj.bulkOut.setParameter(varargin);
0494         <span class="keyword">end</span>
0495         
0496         
0497         <span class="comment">% ------------------------------------------------------------------</span>
0498         <span class="comment">% Editing of bulk in block</span>
0499         
0500         <a name="_sub36" href="#_subfunctions" class="code">function obj = addBulkIn(obj,varargin)</a>
0501             obj.bulkIn.addParam(varargin{:});
0502         <span class="keyword">end</span>
0503         
0504         <a name="_sub37" href="#_subfunctions" class="code">function obj = removeBulkIn(obj,varargin)</a>
0505             obj.bulkIn.removeParam(varargin{:});
0506         <span class="keyword">end</span>
0507         
0508         <a name="_sub38" href="#_subfunctions" class="code">function obj = setBulkIn(obj,varargin)</a>
0509             <span class="comment">% Gerenal purpose set scalefactor method</span>
0510             obj.bulkIn.setParameter(varargin);
0511         <span class="keyword">end</span>
0512         
0513         <span class="comment">% -------------------------------------------------------------------</span>
0514         <span class="comment">% Editing of scalefactors block</span>
0515         
0516         <a name="_sub39" href="#_subfunctions" class="code">function obj = addScalefactor(obj,varargin)</a>
0517             obj.scalefactors.addParam(varargin{:});
0518         <span class="keyword">end</span>
0519         
0520         <a name="_sub40" href="#_subfunctions" class="code">function obj = removeScalefactor(obj,varargin)</a>
0521            obj.scalefactors.removeParam(varargin{:}); 
0522         <span class="keyword">end</span>
0523         
0524         <a name="_sub41" href="#_subfunctions" class="code">function obj = setScalefactor(obj,varargin)</a>
0525             <span class="comment">% Gerenal purpose set scalefactor method</span>
0526             obj.scalefactors.setParameter(varargin);
0527         <span class="keyword">end</span>
0528         
0529 
0530         <span class="comment">% -----------------------------------------------------------------</span>
0531         <span class="comment">% Editing of qzshifts block</span>
0532         
0533         <a name="_sub42" href="#_subfunctions" class="code">function obj = addQzshift(obj,varargin)</a>
0534             obj.qzshifts.addParam(varargin{:}); 
0535         <span class="keyword">end</span>
0536         
0537         
0538         <span class="comment">% -----------------------------------------------------------------</span>
0539         <span class="comment">% editing of custom models block</span>
0540         
0541         <a name="_sub43" href="#_subfunctions" class="code">function obj = addCustomFile(obj, varargin)</a>
0542             
0543             obj.customFile.addFile(varargin{:});
0544            
0545         <span class="keyword">end</span>
0546         
0547         <a name="_sub44" href="#_subfunctions" class="code">function obj = setCustomFile(obj,varargin)</a>
0548             <span class="comment">% Gerenal purpose set scalefactor method</span>
0549             obj.customFile.setCustomFile(varargin);
0550         <span class="keyword">end</span>
0551         
0552         
0553         <span class="comment">% ----------------------------------------------------------------</span>
0554         <span class="comment">%</span>
0555         <span class="comment">%   Editing of Contrasts Block</span>
0556         
0557         <a name="_sub45" href="#_subfunctions" class="code">function obj = addContrast(obj,varargin)</a>
0558             
0559             allowedNames = obj.getAllAllowedNames();
0560             obj.contrasts.addContrast(allowedNames,varargin);
0561             
0562         <span class="keyword">end</span>
0563         
0564         
0565         <a name="_sub46" href="#_subfunctions" class="code">function obj = setContrast(obj,varargin)</a>
0566             
0567             <span class="comment">% Allow setting of all parameters in terms of name value pairs.</span>
0568             <span class="comment">% First input must be contrast number or name, subsequent</span>
0569             <span class="comment">% inputs are name / value pairs for the parts involved</span>
0570             
0571             firstInput = varargin{1};
0572             inputVals = varargin(2:end);
0573             
0574             contrastNames = obj.contrasts.getAllContrastNames();
0575             numberOfContrasts = obj.contrasts.numberOfContrasts;
0576             
0577             <span class="comment">% Find if we are referencing and existing contrast</span>
0578             <span class="keyword">if</span> isnumeric(firstInput)
0579                 <span class="keyword">if</span> (firstInput &lt; 1 || firstInput &gt; numberOfContrasts)
0580                     error(<span class="string">'Contrast number %d is out of range'</span>,firstInput);
0581                 <span class="keyword">end</span>
0582                 thisContrast = firstInput;
0583                 
0584             <span class="keyword">elseif</span> ischar(firstInput)
0585                 [present,idx] = ismember(firstInput, contrastNames);
0586                 <span class="keyword">if</span> ~present
0587                     error(<span class="string">'Contrast %s is not recognised'</span>,firstInput)
0588                 <span class="keyword">end</span>
0589                 thisContrast = idx;
0590                 
0591             <span class="keyword">end</span>
0592             
0593             <span class="comment">% Get the list of allowed values depending on what is</span>
0594             <span class="comment">% set for the other contrasts.</span>
0595             allowedValues = obj.getAllAllowedNames;
0596             
0597             <span class="comment">% Call the setContrast method</span>
0598             obj.contrasts.setContrast(thisContrast,allowedValues,inputVals);
0599             
0600         <span class="keyword">end</span>
0601         
0602         <a name="_sub47" href="#_subfunctions" class="code">function obj = setContrastModel(obj,varargin)</a>
0603             
0604             firstInput = varargin{1};
0605             inputVals = varargin(2:end);
0606             
0607             contrastNames = obj.contrasts.getAllContrastNames();
0608             numberOfContrasts = obj.contrasts.numberOfContrasts;
0609             
0610             <span class="comment">% Find if we are referencing and existing contrast</span>
0611             <span class="keyword">if</span> isnumeric(firstInput)
0612                 <span class="keyword">if</span> (firstInput &lt; 1 || firstInput &gt; numberOfContrasts)
0613                     error(<span class="string">'Contrast number %d is out of range'</span>,firstInput);
0614                 <span class="keyword">end</span>
0615                 thisContrast = firstInput;
0616                 
0617             <span class="keyword">elseif</span> ischar(firstInput)
0618                 [present,idx] = ismember(firstInput, contrastNames);
0619                 <span class="keyword">if</span> ~present
0620                     error(<span class="string">'Contrast %s is not recognised'</span>,firstInput)
0621                 <span class="keyword">end</span>
0622                 thisContrast = idx;
0623                 
0624             <span class="keyword">end</span>
0625             
0626             <span class="comment">% Make a different allowed list depending on whether</span>
0627             <span class="comment">% it is custom or layers</span>
0628             ModelType = obj.ModelType;
0629             
0630             <span class="keyword">if</span> ~strcmpi(ModelType,{<span class="string">'custom layers'</span>,<span class="string">'custom xy'</span>})
0631                 <span class="comment">% Standard Layers</span>
0632                 allowedValues = obj.layers.getLayersNames();
0633                 ModelType = <span class="string">'standard'</span>;
0634                 inputVals = inputVals{:};
0635             <span class="keyword">else</span>
0636                 <span class="comment">% Custom models</span>
0637                 allowedValues = obj.customFile.getCustomNames();
0638                 ModelType = <span class="string">'custom'</span>;
0639             <span class="keyword">end</span>
0640             
0641             <span class="comment">% Call the setContrastModel method</span>
0642             obj.contrasts.setContrastModel(thisContrast,ModelType,allowedValues,inputVals);
0643 
0644         <span class="keyword">end</span>
0645         
0646         <a name="_sub48" href="#_subfunctions" class="code">function outStruct = toStruct(obj)</a>
0647             
0648             <span class="comment">% Converts the class parameters</span>
0649             <span class="comment">% into a struct array for input into</span>
0650             <span class="comment">% the RAT toolbox</span>
0651             
0652             <span class="comment">% Set which typr of experiment this is</span>
0653             generalStruct.TF = <span class="string">'standardTF'</span>;
0654             
0655             <span class="comment">% Add the 'general' fields</span>
0656             thisType = obj.ModelType;
0657             
0658             <span class="keyword">switch</span> lower(thisType)
0659                 <span class="keyword">case</span> <span class="string">'standard layers'</span>
0660                     generalStruct.ModelType = <span class="string">'layers'</span>;
0661                 <span class="keyword">case</span> <span class="string">'custom layers'</span>
0662                     generalStruct.ModelType = <span class="string">'custom layers'</span>;
0663                 <span class="keyword">case</span> <span class="string">'custom xy'</span>
0664                     generalStruct.ModelType = <span class="string">'custom xy'</span>;
0665             <span class="keyword">end</span>
0666                      
0667             generalStruct.geometry = obj.Geometry;
0668             
0669             <span class="comment">% Parameters</span>
0670             params = obj.parameters.toStruct();
0671             paramStruct = cell2struct(struct2cell(params),{<span class="string">'paramNames'</span>,<span class="keyword">...</span>
0672                 <span class="string">'nParams'</span>,<span class="string">'paramConstr'</span>,<span class="string">'params'</span>,<span class="string">'paramFitYesNo'</span>,<span class="string">'paramPriors'</span>});
0673             
0674             <span class="comment">% Backgrounds</span>
0675             backgroundStruct = obj.background.toStruct();
0676             
0677             <span class="comment">% Resolutions</span>
0678             resolutionStruct = obj.resolution.toStruct();
0679             
0680             <span class="comment">% Bulk in</span>
0681             bulkInStruct = obj.bulkIn.toStruct();
0682             bulkInStruct = cell2struct(struct2cell(bulkInStruct),{<span class="string">'nbairNames'</span>,<span class="keyword">...</span>
0683                 <span class="string">'nNba'</span>,<span class="string">'nbairConstr'</span>,<span class="string">'nbairs'</span>,<span class="string">'nbaFitYesNo'</span>,<span class="string">'nbaPriors'</span>});
0684             
0685             <span class="comment">% Bulk out</span>
0686             bulkOutStruct = obj.bulkOut.toStruct();
0687             bulkOutStruct = cell2struct(struct2cell(bulkOutStruct),{<span class="string">'nbsubNames'</span>,<span class="keyword">...</span>
0688                 <span class="string">'nNbs'</span>,<span class="string">'nbsubConstr'</span>,<span class="string">'nbsubs'</span>,<span class="string">'nbsFitYesNo'</span>,<span class="string">'nbsPriors'</span>});
0689             
0690             <span class="comment">% Scalefactors</span>
0691             scalefactorStruct = obj.scalefactors.toStruct();
0692             scalefactorStruct = cell2struct(struct2cell(scalefactorStruct),{<span class="string">'scalefactorNames'</span>,<span class="keyword">...</span>
0693                 <span class="string">'nScalefcators'</span>,<span class="string">'scalefactorConstr'</span>,<span class="string">'scalefactors'</span>,<span class="string">'scalefactorFitYesNo'</span>,<span class="string">'scalefactorPriors'</span>});
0694             
0695             <span class="comment">% Qzshifts</span>
0696             qzshiftStruct = obj.qzshifts.toStruct();
0697             qzshiftStruct = cell2struct(struct2cell(qzshiftStruct),{<span class="string">'qzshiftNames'</span>,<span class="keyword">...</span>
0698                 <span class="string">'nQzshifts'</span>,<span class="string">'qzshiftConstr'</span>,<span class="string">'qzshifts'</span>,<span class="string">'qzshiftFitYesNo'</span>,<span class="string">'qzshiftPriors'</span>});
0699             
0700             <span class="comment">% Layers</span>
0701             layersCell = obj.layers.toStruct();
0702             layersStruct.numberOfLayers = size(layersCell,1);
0703             layersStruct.layersnames = layersCell(:,1);
0704             
0705             <span class="comment">% parse the layers details</span>
0706             layersValues = layersCell(:,2:end);
0707             paramNames = string(paramStruct.paramNames);
0708             
0709             <span class="keyword">switch</span> generalStruct.ModelType
0710                 <span class="keyword">case</span> <span class="string">'layers'</span>
0711                     
0712                     <span class="keyword">for</span> i = 1:layersStruct.numberOfLayers
0713                         thisLayer = layersValues(i,:);
0714                         min = find(strcmpi(thisLayer{1},paramNames));
0715                         val = find(strcmpi(thisLayer{2},paramNames));
0716                         max = find(strcmpi(thisLayer{3},paramNames));
0717                         <span class="keyword">if</span> ismissing(thisLayer(4))
0718                             hydr = NaN;
0719                         <span class="keyword">else</span>
0720                             hydr = find(strcmpi(thisLayer{4},paramNames));
0721                         <span class="keyword">end</span>
0722                         <span class="keyword">if</span> strcmpi(thisLayer{5},<span class="string">'bulk in'</span>)
0723                             hydrWhat = 1;
0724                         <span class="keyword">else</span>
0725                             hydrWhat = 2;
0726                         <span class="keyword">end</span>
0727                         layersDetails{i} = [min val max hydr hydrWhat];
0728                     <span class="keyword">end</span>
0729                     layersStruct.layersDetails = layersDetails(:);
0730                     
0731                 <span class="keyword">otherwise</span>
0732                     layersStruct.layersDetails = {};
0733             <span class="keyword">end</span>
0734             
0735             <span class="comment">% Custom files</span>
0736             customFileStruct = obj.customFile.toStruct();
0737             
0738             <span class="comment">% Contrasts.</span>
0739             allNames = obj.getAllAllowedNames;
0740             dataTable = obj.data.dataTable;
0741             
0742             modelType = generalStruct.ModelType;
0743             contrastStruct = obj.contrasts.toStruct(allNames,modelType,dataTable);
0744             
0745             <span class="comment">% Merge all the outputs into one large structure</span>
0746             outStruct = <a href="mergeStructs.html" class="code" title="function outStruct = mergeStructs(varargin)">mergeStructs</a>(generalStruct,<span class="keyword">...</span>
0747                 paramStruct,<span class="keyword">...</span>
0748                 backgroundStruct,<span class="keyword">...</span>
0749                 resolutionStruct,<span class="keyword">...</span>
0750                 bulkInStruct,<span class="keyword">...</span>
0751                 bulkOutStruct,<span class="keyword">...</span>
0752                 scalefactorStruct,<span class="keyword">...</span>
0753                 qzshiftStruct,<span class="keyword">...</span>
0754                 layersStruct,<span class="keyword">...</span>
0755                 customFileStruct,<span class="keyword">...</span>
0756                 contrastStruct);
0757             
0758         <span class="keyword">end</span>
0759         
0760     <span class="keyword">end</span>     <span class="comment">% end public methods</span>
0761     
0762     <span class="comment">% ------------------------------------------------------------------</span>
0763     
0764     methods (Access = protected)
0765         
0766         <a name="_sub49" href="#_subfunctions" class="code">function paramNum = findPar(paramName)</a>
0767             existingNames = obj.parameters.paramsTable{:,1};
0768             index = strcmp(paramName, existingNames);
0769             <span class="keyword">if</span> isempty(index)
0770                 paramNum = -1;
0771             <span class="keyword">else</span>
0772                 paramNum = find(index);
0773             <span class="keyword">end</span>
0774         <span class="keyword">end</span>
0775         
0776         <span class="comment">% Display methods</span>
0777         <a name="_sub50" href="#_subfunctions" class="code">function group = getPropertyGroup1(obj)</a>
0778             <span class="comment">% Initial Parameters at the start of the class</span>
0779             masterPropList = struct(<span class="string">'ModelType'</span>,{obj.ModelType},<span class="keyword">...</span>
0780                 <span class="string">'experimentName'</span>,{obj.experimentName},<span class="keyword">...</span>
0781                 <span class="string">'Geometry'</span>, obj.Geometry);
0782             
0783             <span class="keyword">if</span> isscalar(obj)
0784                 group = matlab.mixin.util.PropertyGroup(masterPropList);
0785             <span class="keyword">else</span>
0786                 group = <a href="#_sub51" class="code" title="subfunction group = getPropertyGroup1(obj)">getPropertyGroup1</a>@matlab.mixin.CustomDisplay(obj);
0787             <span class="keyword">end</span>
0788         <span class="keyword">end</span>
0789         
0790         <a name="_sub51" href="#_subfunctions" class="code">function displayScalarObject(obj)</a>
0791             <span class="comment">% Display the whole class. Call the display methods for</span>
0792             <span class="comment">% the sub-classes where appropriate</span>
0793             
0794             <span class="comment">% There are two versions, depending on whether the model</span>
0795             <span class="comment">% is standard layers or custom, the difference being</span>
0796             <span class="comment">% the display of the layers table..</span>
0797             
0798             <span class="comment">% Display initial properties</span>
0799             startProps = <a href="#_sub51" class="code" title="subfunction group = getPropertyGroup1(obj)">getPropertyGroup1</a>(obj);
0800             matlab.mixin.CustomDisplay.displayPropertyGroups(obj,startProps);
0801             
0802             <span class="comment">% Display the parameters table</span>
0803             fprintf(<span class="string">'    Parameters: ---------------------------------------------------------------------------------------------- \n\n'</span>);
0804             obj.parameters.displayParametersTable;
0805             
0806             <span class="comment">% Display the layers table if not a custom model</span>
0807             val = obj.ModelType;
0808             <span class="keyword">if</span> ~any(strcmpi(val,{<span class="string">'custom layers'</span>,<span class="string">'custom xy'</span>}))
0809                 fprintf(<span class="string">'    Layers: -------------------------------------------------------------------------------------------------- \n\n'</span>);
0810                 obj.layers.displayLayersTable;
0811             <span class="keyword">end</span>
0812             
0813             <span class="comment">% Display the Bulk In table</span>
0814             fprintf(<span class="string">'    Bulk In: -------------------------------------------------------------------------------------------------- \n\n'</span>);
0815             obj.bulkIn.displayParametersTable;
0816             
0817             <span class="comment">% Display the Bulk Out table</span>
0818             fprintf(<span class="string">'    Bulk Out: ------------------------------------------------------------------------------------------------- \n\n'</span>);
0819             obj.bulkOut.displayParametersTable;
0820             
0821             <span class="comment">% Display the Scalefactors table</span>
0822             fprintf(<span class="string">'    Scalefactors: ------------------------------------------------------------------------------------------------- \n\n'</span>);
0823             obj.scalefactors.displayParametersTable;
0824 
0825             <span class="comment">% Display the backgrounds object</span>
0826             obj.background.displayBackgroundsObject;
0827             
0828             <span class="comment">% Display the resolutions object</span>
0829             obj.resolution.displayResolutionsObject;
0830             
0831             <span class="comment">% Display the data object</span>
0832             obj.data.displayDataObject;
0833             
0834             <span class="comment">% Display custome files object</span>
0835             obj.customFile.displayCustomFileObject;
0836             
0837             <span class="comment">% Display the contrasts object</span>
0838             obj.contrasts.displayContrastsObject;
0839             
0840         <span class="keyword">end</span>
0841         
0842         
0843     <span class="keyword">end</span>
0844     
0845 <span class="keyword">end</span>
0846</pre></div>
<hr><address>Generated on Mon 26-Jul-2021 16:46:03 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" target="_parent">m2html</a></strong> &copy; 2005</address>
</body>
</html>